<div class="containerTodo backgroundSecundario">

  <app-sidebar class="sidebar"></app-sidebar>

<div class="container ">
  <app-sidebar></app-sidebar>
  <h1>Inventario</h1>

  <form [formGroup]="formularioProducto" (ngSubmit)="crearProducto()">
    <div class="form-group form-control-lg">
      <label for="nombreProducto">Nombre del Producto</label>
      <input type="text" id="nombreProducto" formControlName="nombreProducto" class="form-control" required>
    </div>


    <div class="form-group form-control-lg">
      <label for="precio">Precio</label>
      <input type="number" id="precio" formControlName="precio" class="form-control" required>
    </div>

    <div class="form-group form-control-lg">
      <label for="caracteristicas">Características</label>
      <input type="text" id="caracteristicas" formControlName="caracteristicas" class="form-control" required>
    </div>

    <div class="form-group form-control-lg">
      <label for="descripcion">Descripción</label>
      <input type="text" id="descripcion" formControlName="descripcion" class="form-control" required>
    </div>

    <div class="form-group form-control-lg">
      <label for="stock">Stock</label>
      <input type="number" id="stock" formControlName="stock" class="form-control" required>
    </div>

   
      <div class="form-group form-control-lg">
          <label for="categoria">Categoria</label>
          <select formControlName="categoria" id="categoria" class="form-select  form-control-lg">
              @for (elem of listadoCategoria; track elem) {
              <!--option  value="{{elem.id}}"-->
              <option  value="{{elem.id}}">
                  {{elem.nombreCategoria}}
              </option>
              }
          </select>
          
      </div>
   
    <button type="submit" class="btn btn-primary mt-3 form-control-lg" [disabled]="formularioProducto.invalid">Agregar</button>
  </form>

  <h2 class="mt-5">Elementos en Inventario</h2>
  <table class="table table-striped mt-3 " >
    <thead>
      <tr>
        <th>ID</th>
        <th>Nombre</th>
        <th>Precio</th>
        <th>Características</th>
        <th>Descripcion</th>
        <th>Stock</th>
        <th>Categoría</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      @for (producto of listadoProductor; track producto) {
      <tr>
        <td>{{ producto.id }}</td>
        <td>{{ producto.nombreProducto }}</td>
        <td>{{ producto.precio }}</td>
        <td>{{ producto.caracteristicas }}</td>
        <td>{{ producto.descripcion }}</td>
        <td>{{ producto.stock }}</td>
        <td>{{ producto.categoria?.nombreCategoria }}</td>
        <td>
          <button class="btn btn-primary btn-sm">Editar</button>
        </td>
      </tr>
    }
    </tbody>
  </table>
</div>
</div>