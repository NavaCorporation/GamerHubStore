<div class="container mt-5">
  <h1>Agregar Tarea</h1>
  <button class="btn btn-secondary mb-4" (click)="goBack()">Back</button> <!-- Botón de regreso -->

  <form [formGroup]="taskForm" (ngSubmit)="submitForm()">
    <div class="form-group">
      <label for="title">Título</label>
      
      <input type="text" id="title" formControlName="title" class="form-control" placeholder="Ingrese el título" />
      
      @if (taskForm.get('title')!.invalid && taskForm.get('title')!.touched) {
        <div class="text-danger">
          El título es obligatorio
        </div>
  
        }
    
    </div>
    <div class="form-group">
      <label for="description">Descripción</label>
      <textarea id="description" formControlName="description" class="form-control"
        placeholder="Ingrese la descripción"></textarea>


        @if (taskForm.get('description')!.invalid && taskForm.get('description')!.touched) {
          <div  class="text-danger">
            La descripción es obligatoria
          </div>
    
          }
     

    </div>
    <div class="form-group">
      <label for="status">Estado</label>
      <select id="status" formControlName="status" class="form-control">
        <option value="">Seleccione el estado</option>
        <option value="Pendiente">Pendiente</option>
        <option value="En Progreso">En Progreso</option>
        <option value="Completada">Completada</option>
      </select>


      @if (taskForm.get('status')!.invalid && taskForm.get('status')!.touched) {
      <div class="text-danger">
        El estado es obligatorio
      </div>

      }

    </div>
    <button type="submit" class="btn btn-primary mt-3">Agregar Tarea</button>
  </form>

  <h2 class="mt-5">Tareas Actuales</h2>
  <table class="table table-striped mt-3">
    <thead>
      <tr>
        <th>ID</th>
        <th>Título</th>
        <th>Descripción</th>
        <th>Estado</th>
      </tr>
    </thead>
    <tbody>
      @for (task of tasks; track task) {
      <tr>
        <td>{{ task.id }}</td>
        <td>{{ task.title }}</td>
        <td>{{ task.description }}</td>
        <td>{{ task.status }}</td>
      </tr>
      }
    </tbody>
  </table>
</div>